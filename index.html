<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TrackPro Elite</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:#000;
  color:#fff;
  overflow:hidden;
}

/* HEADER */
.header{
  padding:18px;
  text-align:center;
  font-size:24px;
  font-weight:700;
  background:#111;
}

/* NAV BAR */
.nav{
  display:flex;
  justify-content:space-around;
  background:#0d0d0d;
  padding:10px 0;
}

.nav button{
  background:none;
  border:none;
  color:white;
  font-weight:600;
  font-size:14px;
  cursor:pointer;
}

/* PAGE SYSTEM */
.page{
  position:absolute;
  top:110px;
  width:100%;
  height:calc(100% - 140px);
  padding:20px;
  overflow-y:auto;
  opacity:0;
  transform:translateX(40px);
  transition:.45s ease;
  pointer-events:none;
}

.page.active{
  opacity:1;
  transform:translateX(0);
  pointer-events:auto;
}

/* PROFILE GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
  gap:18px;
}

.profile{
  position:relative;
  background:#111;
  border-radius:18px;
  height:140px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  cursor:pointer;
  box-shadow:0 0 15px rgba(255,255,255,.08);
  transition:.2s;
}

.profile:hover{transform:scale(1.05);}

.profile img{
  width:50px;
  margin-bottom:8px;
  filter:invert(1);
}

/* DELETE BUTTON */
.deleteBtn{
  position:absolute;
  top:6px;
  right:8px;
  background:#fff;
  color:#000;
  border:none;
  border-radius:50%;
  width:22px;
  height:22px;
  font-weight:bold;
  cursor:pointer;
  font-size:14px;
}

/* ADD BOX */
.addBox{
  font-size:42px;
  color:#fff;
}

/* CARDS */
.card{
  background:#111;
  padding:18px;
  border-radius:18px;
  margin-bottom:18px;
}

/* INPUTS */
input,select,textarea{
  width:100%;
  padding:10px;
  margin:6px 0;
  border-radius:10px;
  border:none;
  background:#000;
  color:white;
}

/* PRIMARY BUTTON */
button.primary{
  background:#fff;
  color:#000;
  border:none;
  padding:10px 16px;
  border-radius:12px;
  font-weight:700;
  cursor:pointer;
}

.backBtn{
  margin-bottom:10px;
  background:none;
  border:none;
  color:#fff;
  font-weight:600;
  cursor:pointer;
}

.pr{
  color:#4ade80;
  font-weight:bold;
  font-size:18px;
}

/* FOOTER */
.footer{
  position:fixed;
  bottom:0;
  width:100%;
  text-align:center;
  padding:10px;
  font-size:12px;
  background:#111;
  letter-spacing:.5px;
}
</style>
</head>

<body>

<div class="header">
  <img src="runner.png" class="logo">
  TrackPro Elite
</div>

<div class="nav" id="nav" style="display:none;">
  <button onclick="switchTab('stats')">Stats</button>
  <button onclick="switchTab('goals')">Goals</button>
  <button onclick="switchTab('workout')">Workout</button>
  <button onclick="switchTab('tools')">Tools</button>
</div>

<!-- PROFILES -->
<div id="profiles" class="page active">
  <div class="card" id="nameCard" style="display:none;">
    <h3>Create Profile</h3>
    <input id="nameInput" placeholder="Athlete name">
    <button class="primary" onclick="confirmAdd()">Create</button>
  </div>

  <div class="grid" id="profileGrid"></div>
</div>

<!-- STATS -->
<div id="stats" class="page">
  <button class="backBtn" onclick="goHome()">⬅ Profiles</button>

  <div class="card">
    <h2 id="athleteName"></h2>

    <select id="eventSelect" onchange="showEventChart()">
      <option>100m</option>
      <option>200m</option>
      <option>400m</option>
      <option>800m</option>
      <option>1600m</option>
      <option>Long Jump</option>
      <option>High Jump</option>
      <option>Triple Jump</option>
    </select>

    <input id="resultInput" placeholder="Time or Distance">
    <button class="primary" onclick="addResult()">Add Result</button>

    <div id="prNotice"></div>
    <canvas id="chartCanvas"></canvas>
  </div>
</div>

<!-- FOOTER -->
<div class="footer">
  © Made by Kamsi Atasie
</div>

<script>
let data = JSON.parse(localStorage.getItem("trackProElite")) || {athletes:[]};
let current=null;
let chart;

function save(){
  localStorage.setItem("trackProElite",JSON.stringify(data));
}

/* PROFILES */

function renderProfiles(){
  profileGrid.innerHTML="";

  data.athletes.forEach((a,i)=>{
    profileGrid.innerHTML+=`
      <div class="profile" onclick="openAthlete(${i})">
        <button class="deleteBtn" onclick="deleteAthlete(event,${i})">×</button>
        <img src="runner.png">
        <div>${a.name}</div>
      </div>`;
  });

  profileGrid.innerHTML+=`
    <div class="profile" onclick="showAddBox()">
      <div class="addBox">+</div>
    </div>`;
}

function showAddBox(){
  nameCard.style.display="block";
}

function confirmAdd(){
  const name=nameInput.value.trim();
  if(!name) return;

  data.athletes.push({name,results:{},goals:[],workout:""});
  nameInput.value="";
  nameCard.style.display="none";
  save();
  renderProfiles();
}

function deleteAthlete(e,i){
  e.stopPropagation();
  data.athletes.splice(i,1);
  save();
  renderProfiles();
}

function openAthlete(i){
  current=i;
  athleteName.innerText=data.athletes[i].name;
  nav.style.display="flex";
  switchTab("stats");
}

function goHome(){
  nav.style.display="none";
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  profiles.classList.add("active");
}

/* EVENT CHART */

function showEventChart(){
  const a=data.athletes[current];
  const e=eventSelect.value;
  const arr=a.results[e] || [];

  if(chart) chart.destroy();

  chart=new Chart(chartCanvas,{
    type:"line",
    data:{
      labels:arr.map((_,i)=>i+1),
      datasets:[{
        data:arr,
        borderColor:"#fff",
        tension:.35
      }]
    },
    options:{
      plugins:{legend:{display:false}},
      animation:{duration:900}
    }
  });
}

renderProfiles();
</script>

</body>
</html>
